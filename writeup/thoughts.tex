\documentclass{article}
\usepackage[colorlinks=true, linkcolor=blue, citecolor=black, urlcolor=black]{hyperref}
\usepackage[style=trad-abbrv]{biblatex}
\usepackage{amsmath,amsthm,amssymb,dsfont}
%\usepackage{draftwatermark}
%\SetWatermarkScale{8}
%\SetWatermarkText{\normalfont{DRAFT}}

\newcommand{\PairDecomp}{\mathcal{W}}

\title{TSP and WSP Thoughts and Ideas}
\author{Addison Hanrattie}

\newtheorem{thm}{Theorem}[section]
\newtheorem{lem}[thm]{Lemma}
\newtheorem{corollary}{Corollary}[thm]
\theoremstyle{definition}
\newtheorem{defn}[thm]{Definition}


\newcommand{\BigLength}{\mathcal{L}}
\newcommand{\Cover}{\mathcal{C}}

\newcommand{\dist}{\delta}
%\DeclareMathOperator{\dist}{dist}

\DeclareMathOperator{\diam}{diam}

\begin{document}
\maketitle

\section{Work Area}
The main theorem I am proving here is Theorem~\ref{thm:wsp_tsp} and Theorem~\ref{thm:wsp_path}.

\section{Definitions}
\subsection{Background Definitions}
\begin{defn}
    A \textbf{Pair Decomposition} is a of $P$ is a set of pairs
    $$\PairDecomp = \left\{ \{A_1, B_1\}, \ldots, \{A_k,B_k\} \right\}$$
    such that (I) $\forall i; A_i,B_i \subset P$, (II) $\forall i; A_i \cap B_i = \emptyset$, and (III) $\bigcup_{i=1}^k A_i \otimes B_i = \binom{P}{2} = P \otimes P$.
\end{defn}

\begin{defn}
    $\dist(Q,R) = \min_{q \in Q, r \in R} |qr|$
\end{defn}

\begin{defn}
    The pair $\{Q,R\}$ is \textbf{$s$-well-separated} if
    $$\max\{\diam(Q), \diam(R)\} \leq \frac{1}{s} \cdot \dist(Q,R)$$
\end{defn}

\subsection{My definitions}

\begin{defn}
    Let $P = A \cup B$ (with $A \cap B = \emptyset$). We say that $A$ and $B$ are \textbf{TSP-Separated} if the \emph{any} optimal TSP tour on $P$ visits all points in $A$ before any point in $B$ (or vice versa).
\end{defn}

\begin{defn}
    Let $\{(A_1, B_1), \dots, (A_n, B_n)\}$ be a Well Separated Pair Decomposition of point set $P$.
    We say that this WSPD is a \textbf{binary WSPD} if $\forall A_i; |A_i| = 1 \vee \exists j,k; A_i = A_j \cup A_k$ and the same holds for all $B_i$.
\end{defn}

\section{Theorems}
\subsection{Background Theorems}
\begin{thm}
Let $A$ and $B$ be two finite sets of points that are s-well-separated, let $p,p' \in A$, and let $q,q' \in B$. 
Then the following inequalities hold:
\begin{align*}
    |pq| &\leq (1 + 2/s) \cdot |pq'| \\
    |pq| &\leq (1 + 4/s) \cdot |p'q'| \\
    |pp'| &\leq (2/s) \cdot |pq| \\
\end{align*}
\end{thm}

\subsection{My Theorems}
\begin{thm}[You can ignore]
Within a ball of diameter $d$ within a metric space the difference in shortest hamiltonian paths between any two points is at most $2d$.
\end{thm}
\begin{proof}
    Fix one pair of endpoints $(a,b)$ and let $P_{a,b}$ be the optimal Hamiltonian path from $a$ to $b$ with length denoted $L(a,b)$.
    Next consider another pair of endpoints $(c,d)$ we can then build a hamiltonian path from $c$ to $d$ using $P_{a,b}$.
    \begin{enumerate}
        \item Start at $c$
        \item Travel from $c$ to $a$ for a cost of $\dist(c,a) \leq d$
        \item Follow the path $P_{a,b}$ from $a$ to $b$ for a cost of $c \leq L(a,b)$. (shortcutting $c,d$)
        \item Travel from $b$ to $d$ for a cost of $\dist(b,d) \leq d$
    \end{enumerate}
    %WLOG assume that $c$ occurs before $d$ on the path $P_{a,b}$. 
    %Then let $x$ be the point which precedes $c$ on the path and let $x'$ be the point that immediately follows. 
    %In the same way define $y$ and $y'$ for point $d$.
    %Since the triangle inequality must be obeyed we know 
    Since the space obeys the triangle inequality we know that during step 3 we can only decrease the cost by shortcutting. Thus the total cost of this path is at most $L(a,b) + 2d$. Furthermore we know that this cost must ceil whatever the optimal hamiltonian path from $c$ to $d$ is. Thus we have shown that $L(c,d) \leq L(a,b) + 2d$. By symmetry of the argument we can also show that $L(a,b) \leq L(c,d) + 2d$. Combining these two inequalities we have that $\forall a,b,c,d;|L(a,b) - L(c,d)| \leq 2d$ as desired. 
\end{proof}

\begin{thm}\label{thm:wsp_tsp}
    Suppose we have two sets of points $A$ and $B$ that are $s$-well-separated where $s > 2$. Then $A$ and $B$ must be TSP-separated.
\end{thm}
\begin{proof}
    Let $|A| = n$ and $|B| = m$.
    WLOG assume that $n,m \geq 4$.

    Assume by contradiction that $A$ and $B$ are not TSP-separated.
    Then the optimal TSP tour on $A \cup B$ must contain at least four edges of the form $(a_i, b_i)$ where $a_i \in A$ and $b_i \in B$.
    WLOG let these edges be $\{a_1, b_1\}, \{b_2, a_2\}, \{a_3, b_3\}, \{b_4, a_4\}$ ordered as they appear in the tour.
    This gives the following partial structure of the tour:
    $$a_1 \to b_1 \to \dots \to b_2 \to a_2 \to \dots \to a_3 \to b_3 \to \dots \to b_4 \to a_4 \to \dots \to a_1$$

    Since the tour is optimal we know that it satisfies the 2-optimality condition implying the following:
    $|b_2 a_2| + |b_4 a_4| \leq |b_2 b_4| + |a_2 a_4|$.
    This is to say that the following tour must be at least as long as the original tour:
    $$a_1 \to b_1 \to \dots \to b_2 \to b_4 \to \dots \to b_3 \to a_3 \to \dots \to a_2 \to a_4 \to \dots \to a_1$$

    Since $A$ and $B$ are $s$-well-separated we know that $\forall i,j; |a_i a_j| \leq \frac{2}{s} |a_i b_i|$. From this we can conclude the following:
    \begin{align*}
        |b_2 a_2| + |b_4 a_4| &\leq |b_2 b_4| + |a_2 a_4| \\
        &\leq \frac{2}{s} |b_2 a_2| + \frac{2}{s} |b_4 a_4| \\
        &= \frac{2}{s} (|b_2 a_2| + |b_4 a_4|)
    \end{align*}
    This implies that $1 \leq \frac{2}{s}$ which in turn implies that $s \leq 2$ contradicting our original statement that $s > 2$.
    Therefore $A$ and $B$ must be TSP-separated as desired.
\end{proof}

\begin{thm}\label{thm:wsp_path_ab}
    Suppose we have two sets of points $A$ and $B$ that are $s$-well-separated where $s > 2$. Then the optimal hamiltonian path on $A \cup B$ with endpoints $a' \in A$ and $b' \in B$ must visit all points in $A$ before any point in $B$.
\end{thm}
\begin{proof}
    Let $|A| = n$ and $|B| = m$.
    WLOG assume that $n,m \geq 3$.

    Assume by contradiction that the optimal hamiltonian path on $A \cup B$ with endpoints $a' \in A$ and $b' \in B$ does not visit all points in $A$ before any point in $B$ (or vice versa).
    Then the optimal hamiltonian path on $A \cup B$ must contain at least three edges of the form ${a_i, b_i}$ where $a_i \in A$ and $b_i \in B$.
    WLOG let these edges be $\{a_1, b_1\}, \{b_2, a_2\}, \{a_3, b_3\}$ ordered as they appear in the path.
    This gives the following partial structure of the path:
    $$a' \to \dots \to a_1 \to b_1 \to \dots \to b_2 \to a_2 \to \dots \to a_3 \to b_3 \to \dots \to b'$$

    Since the path is optimal we know that it satisfies the 2-optimality condition implying the following:
    $|a_1 b_1| + |a_3 b_3| \leq |a_1 a_3| + |b_1 b_3|$.
    This is to say that the following path must be at least as long as the original path
    $$a' \to \dots \to a_1 \to a_3 \to \dots \to a_2 \to b_2 \to \dots \to b_1 \to b_3 \to \dots \to b'$$

    Since $A$ and $B$ are $s$-well-separated we know that $\forall i,j; |a_i a_j| \leq \frac{2}{s} |a_i b_i|$. From this we can conclude the following:
    \begin{align*}
        |a_1 b_1| + |a_3 b_3| &\leq |a_1 a_3| + |b_1 b_3| \\
        &\leq \frac{2}{s} |a_1 b_1| + \frac{2}{s} |a_3 b_3| \\
        &= \frac{2}{s} (|a_1 b_1| + |a_3 b_3|)
    \end{align*}
    This implies that $1 \leq \frac{2}{s}$ which in turn implies that $s \leq 2$ contradicting our original statement that $s > 2$.
    Therefore the optimal hamiltonian path on $A \cup B$ with endpoints $a' \in A$ and $b' \in B$ must visit all points in $A$ before any point in $B$.
\end{proof}

\begin{thm}\label{thm:wsp_path_aa}
    Suppose we have two sets of points $A$ and $B$ that are $s$-well-separated where $s > 2$. Then the optimal hamiltonian path on $A \cup B$ with endpoints $a',a'' \in A$ must only contain two edges between $A$ and $B$.
\end{thm}
\begin{proof}
    Let $|A| = n$ and $|B| = m$.
    WLOG assume that $n,m \geq 4$.

    Assume by contradiction that the optimal hamiltonian path on $A \cup B$ with endpoints $a', a'' \in A$ contains at least four edges of the form $(a_i, b_i)$ where $a_i \in A$ and $b_i \in B$.
    WLOG let these edges be $\{a_1, b_1\}, \{b_2, a_2\}, \{a_3, b_3\}, \{b_4, a_4\}$ ordered as they appear in the path.
    This gives the following partial structure of the path:
    $$a' \to \dots \to a_1 \to b_1 \to \dots \to b_2 \to a_2 \to \dots \to a_3 \to b_3 \to \dots \to b_4 \to a_4 \to \dots \to a''$$

    Since the path is optimal we know that it satisfies the 2-optimality condition implying the following:
    $|b_2 a_2| + |b_4 a_4| \leq |b_2 b_4| + |a_2 a_4|$.
    This is to say that the following path must be at least as long as the original path:
    $$a' \to \dots \to a_1 \to b_1 \to \dots \to b_2 \to b_4 \to \dots \to b_3 \to a_3 \to \dots \to a_2 \to a_4 \to \dots \to a''$$

    Since $A$ and $B$ are $s$-well-separated we know that $\forall i,j; |a_i a_j| \leq \frac{2}{s} |a_i b_i|$. From this we can conclude the following:
    \begin{align*}
        |b_2 a_2| + |b_4 a_4| &\leq |b_2 b_4| + |a_2 a_4| \\
        &\leq \frac{2}{s} |b_2 a_2| + \frac{2}{s} |b_4 a_4| \\
        &= \frac{2}{s} (|b_2 a_2| + |b_4 a_4|)
    \end{align*}
    This implies that $1 \leq \frac{2}{s}$ which in turn implies that $s \leq 2$ contradicting our original statement that $s > 2$.
    Therefore the optimal hamiltonian path on $A \cup B$ with endpoints $a', a'' \in A$ must only contain two edges between $A$ and $B$.
\end{proof}


%\begin{thm}
%    Let $P$ be a set of points and suppose we have a binary WSPD $\PairDecomp_s$ of $P$ with separation factor $s > \frac{5}{2}$. 
%    Then the optimal TSP tour on $P$ can be obtained in polynomial time from the optimal TSP tours on each pair in $\PairDecomp_s$.
%\end{thm}

\appendix
\section{Outdated proofs}
% this section is for if a better bound is found (ie proof is still valid but not as strong as desired)
\begin{thm}[There is a better bound]
    Suppose we have two sets of points $A$ and $B$ that are $s$-well-separated where $s > 2.5$. Then $A$ and $B$ must be TSP-separated.
\end{thm}

\section{Dead ends}
% these theorems are false

%Let $A$ and $B$ be two finite sets of points that are TSP-separated. 
%Let $\Cover_k(S)$ denote the optimal cost of $k$ disjoint hamiltonian paths covering all points in set $S$.
%Let $\BigLength_{2k}(A,B)$ be the sum of the $2k$ shortest edges between $A$ and $B$ without point replacement.
%Then, $\Cover_1(A) + \Cover_1(B) + \BigLength_{2}(A,B) \leq \Cover_k(A) + \Cover_k(B) + \BigLength_{2k}(A,B)$.

%Let $A$ and $B$ be two finite sets of points that are TSP-separated. Then $\dist(A,B) \geq \max(\lambda(A), \lambda(B))$.
%[Where $\lambda(A) = \max(|a_1 a_2|, |a_2 a_3|, \dots, |a_{n-1} a_n|)$ so that it represents the longest edge in the hamiltonian path through $A$ which is derived as a subpath of the optimal TSP tour on $A \cup B$. The same definition applies to $\lambda(B)$.]

\end{document}